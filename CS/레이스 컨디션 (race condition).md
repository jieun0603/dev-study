# 레이스 컨디션 (race condition)


<br>


+ 멀티스레드 환경에서는 프로세스 내 모든 자원을 공유해 사용할 수 있다보니   
  **공유 자원에 대해 여러 개의 프로세스가 동시에 접근하기 위해 경쟁하는 상태**가 발생할 수 있는데
  이를 레이스 컨디션이라 함

- 레이스 컨디션이 발생하게 되면 모든 프로세스에 원하는 결과가 발생하는 것을 보장할 수 없을므로    
  이러한 상황은 반드시 피해야 한다.
  
- 스레드의 실행 순서를 잘 조절해주지 않으면 비정상적인 상태가 나오게 되므로 스레드의 실행 순서가 중요

<br>



+ 레이스 컨디션 예

  1. 값 0이 저장된 변수 a가 있다.
  2. 스레드 A와 B가 있다.
  3. 스레드 A는 변수 a를 읽어온다.
  4. 스레드 B는 변수 a를 읽어온다.
  5. 스레드 A는 변수 a에 값을 10 더한 값을 저장한다.
  6. 스레드 B는 변수 b에 값을 1 더한 값을 저장한다.

<br>
<br>
  
![image](https://user-images.githubusercontent.com/73928346/125818577-37967772-eca3-458e-ad1e-9b1d704ca6cc.png)

<br>

           -> 이러면 변수 a에 들어있는 값은 원래 의도된 결과인 11이 아니라 1이 들어가게 된다. 

<br>


synchronized 를 통해서 해당 자원은 독점시켜 공유할 수 없도록 하여 해결한다.


<br>
<br>

---
+실행되는 프로세스가 임시파일을 만드는 경우 악의적인 프로그램을 통해   
  그 프로세스의 실행 중에 끼어들어 임시파일을 목적파일로 연결(심볼릭링크) 하여 악의적인 행위를 할 수 있는데    
  이를 레이스 컨디션 공격이라한다.


<br>


참고 : https://drehzr.tistory.com/87
